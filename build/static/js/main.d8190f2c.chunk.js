(this["webpackJsonparcules-weather-test-app"]=this["webpackJsonparcules-weather-test-app"]||[]).push([[0],{15:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/arcules.2acb4489.svg"},28:function(e,t,a){e.exports=a(44)},33:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(17),l=a.n(i),o=(a(33),a(5)),c=a(11),s=a.n(c),m=a(18),p=a(19),u=a(20),d=a(26),h=a(21),y=a(27),E=(a(15),function(e){return n.a.createElement("div",{className:"weather__info"},e.city&&e.country&&n.a.createElement("p",{className:"weather__city_info"}," Your forecast for the city of:",n.a.createElement("span",{className:"weather__value"}," ",e.city,", ",e.country),n.a.createElement("br",null)," ",n.a.createElement("hr",null)),n.a.createElement("div",{className:"twoColumn"},e.temperature&&n.a.createElement("p",{className:"weather__key"}," Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperature,n.a.createElement("span",null,"\u2109")," ")),e.temperatureHigh&&n.a.createElement("p",{className:"weather__key"}," High Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperatureHigh,n.a.createElement("span",null,"\u2109")," ")),e.temperatureLow&&n.a.createElement("p",{className:"weather__key"}," Low Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperatureLow,n.a.createElement("span",null,"\u2109")," ")),e.humidity&&n.a.createElement("p",{className:"weather__key"}," Humidity:",n.a.createElement("span",{className:"weather__value"}," ",e.humidity,n.a.createElement("span",null,"%"))),e.precipProbability&&n.a.createElement("p",{className:"weather__key"}," Chance of rain:",n.a.createElement("span",{className:"weather__value"}," ",e.precipProbability,n.a.createElement("span",null,"%"))),e.windSpeed&&n.a.createElement("p",{className:"weather__key"}," WindSpeed:",n.a.createElement("span",{className:"weather__value"}," ",e.windSpeed," mph")),e.visibility&&n.a.createElement("p",{className:"weather__key"}," Visibility:",n.a.createElement("span",{className:"weather__value"}," ",e.visibility,"+ mi\u2190")),e.description&&n.a.createElement("p",{className:"weather__key"}," Conditions:",n.a.createElement("span",{className:"weather__value"}," ",e.description," "))),e.error&&n.a.createElement("p",{className:"weather__error"},e.error),e.copyright&&n.a.createElement("p",{className:"weather__copyright"},n.a.createElement("br",null)," ",n.a.createElement("hr",null),n.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},e.copyright)))}),v=function(e){return n.a.createElement("form",{onSubmit:e.getWeather},n.a.createElement("input",{type:"text",name:"latitude",placeholder:"Latitude"}),n.a.createElement("input",{type:"text",name:"longitude",placeholder:"Longitude"}),n.a.createElement("input",{type:"date",id:"date",name:"date"}),n.a.createElement("button",null,"Get Forecast"),e.today&&n.a.createElement("span",{className:"today"}," Today is:",n.a.createElement("span",{className:"todayDate"}," ",e.today)),n.a.createElement("br",null),n.a.createElement("span",{class:"note"},n.a.createElement("strong",null,"Note:"),n.a.createElement("i",null,' "date" is not supported in Safari or Internet Explorer 11 (or earlier).')),n.a.createElement("br",null),n.a.createElement("span",{class:"valid"},n.a.createElement("strong",null,"Example of values:"),n.a.createElement("i",null," Latitude: 37.8267 and Longitude: -122.4233 ")))},w=a(22),g=a.n(w),f=(a(36),function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).getWeather=function(){var t=Object(m.a)(s.a.mark((function t(a){var r,n,i,l,o,c,m,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=a.target.elements.latitude.value,n=a.target.elements.longitude.value,i=a.target.elements.date.value,i+="T12:00:00Z",t.next=7,fetch("https://arcules-test-101.appspot.com/api/weather/".concat(r,"&/").concat(n,"&/").concat(i));case 7:return o=t.sent,t.next=10,o.json();case 10:l=(l=t.sent).message,l=JSON.parse(l),c=Object.keys(l).length,console.log("Data Length:"+c),console.log("Data: "+JSON.stringify(l)),r&&n&&i?c<7?e.setState({error:"Error: "+l.code+"=> "+l.error}):(m=new Date,e.setState({city:l.timezone,country:l.flags.units.toUpperCase(),temperature:l.currently.temperature,temperatureHigh:l.daily.data[0].temperatureHigh,temperatureLow:l.daily.data[0].temperatureLow,precipProbability:100*l.currently.precipProbability,windSpeed:l.currently.windSpeed,visibility:l.currently.visibility,humidity:100*l.currently.humidity,description:l.daily.data[0].summary,error:"",copyright:"Powered by Dark Sky",dateToFormat:m.getDate()})):(p=new Date,e.setState({temperature:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,copyright:void 0,temperatureHigh:void 0,temperatureLow:void 0,windSpeed:void 0,visibility:void 0,precipProbability:void 0,dateToFormat:p.getDate(),error:"Values are required for all fields."}),alert("Values are required for all fields."));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={temperature:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,copyright:void 0,temperatureHigh:void 0,temperatureLow:void 0,windSpeed:void 0,visibility:void 0,precipProbability:void 0,error:void 0},e}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("body",null,n.a.createElement("div",{class:"body_container"},n.a.createElement("div",{className:"twoColumn"},n.a.createElement("p",null,"This is a training exercise written with a Golang back-end which consumes a Restfull API from ",n.a.createElement("a",{href:"https://darksky.net/forecast/40.7127,-74.0059/us12/en",target:"_blank",rel:"noopener noreferrer"},"Dark Sky")," weather service and passes the payload to the React fron-end to complete the UI"),n.a.createElement("p",null,"This app ultimately would be enhanced to accept the ZIP-CODE instead of the coordinates during the next update."),n.a.createElement("p",null,"For the app to work, the user would need to provide a valid latitude and longitude plus the date in order to get the weather forecast information")),n.a.createElement("div",{className:"form-container"},n.a.createElement(v,{getWeather:this.getWeather,today:n.a.createElement(g.a,{date:this.dateToFormat})}),n.a.createElement(E,{city:this.state.city,country:this.state.country,temperature:this.state.temperature,humidity:this.state.humidity,description:this.state.description,error:this.state.error,copyright:this.state.copyright,temperatureHigh:this.state.temperatureHigh,temperatureLow:this.state.temperatureLow,windSpeed:this.state.windSpeed,visibility:this.state.visibility,precipProbability:this.state.precipProbability}))))}}]),t}(r.Component)),b=a(23),_=a.n(b);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{style:{marginTop:"5px"}},n.a.createElement("img",{src:_.a,className:"App-logo",alt:"logo"}),n.a.createElement("h1",null,"Arcules Weather Test App"))),n.a.createElement(o.a,{path:"/",exact:!0,component:f}),n.a.createElement("footer",null,n.a.createElement("div",{class:"footer_home"},n.a.createElement("footer",null,"\xa9 Copyright 2020 Ahmadou Ndoung"))))},k=a(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n.a.createElement(k.a,null,n.a.createElement(N,null));l.a.render(S,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d8190f2c.chunk.js.map