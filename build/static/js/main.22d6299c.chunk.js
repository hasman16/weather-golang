(this["webpackJsonparcules-weather-test-app"]=this["webpackJsonparcules-weather-test-app"]||[]).push([[0],{14:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/arcules.2acb4489.svg"},26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),l=a.n(i),c=(a(31),a(5)),s=a(10),o=a.n(s),m=a(17),p=a(18),u=a(19),h=a(24),d=a(20),y=a(25),E=(a(14),function(e){return n.a.createElement("div",{className:"weather__info"},e.city&&e.country&&n.a.createElement("p",{className:"weather__city_info"}," Your forecast for the city of:",n.a.createElement("span",{className:"weather__value"}," ",e.city,", ",e.country),n.a.createElement("br",null)," ",n.a.createElement("hr",null)),n.a.createElement("div",{className:"twoColumn"},e.temperature&&n.a.createElement("p",{className:"weather__key"}," Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperature," ")),e.temperatureHigh&&n.a.createElement("p",{className:"weather__key"}," High Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperatureHigh," ")),e.temperatureLow&&n.a.createElement("p",{className:"weather__key"}," Low Temperature:",n.a.createElement("span",{className:"weather__value"}," ",e.temperatureLow," ")),e.humidity&&n.a.createElement("p",{className:"weather__key"}," Humidity:",n.a.createElement("span",{className:"weather__value"}," ",e.humidity,"%")),e.precipProbability&&n.a.createElement("p",{className:"weather__key"}," Chance of rain:",n.a.createElement("span",{className:"weather__value"}," ",e.precipProbability,"%")),e.windSpeed&&n.a.createElement("p",{className:"weather__key"}," WindSpeed:",n.a.createElement("span",{className:"weather__value"}," ",e.windSpeed," mph")),e.visibility&&n.a.createElement("p",{className:"weather__key"}," Visibility:",n.a.createElement("span",{className:"weather__value"}," ",e.visibility," ft")),e.description&&n.a.createElement("p",{className:"weather__key"}," Conditions:",n.a.createElement("span",{className:"weather__value"}," ",e.description," "))),e.error&&n.a.createElement("p",{className:"weather__error"},e.error),e.copyright&&n.a.createElement("p",{className:"weather__copyright"},n.a.createElement("br",null)," ",n.a.createElement("hr",null),n.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},e.copyright)))}),w=function(e){return n.a.createElement("form",{onSubmit:e.getWeather},n.a.createElement("input",{type:"text",name:"latitude",placeholder:"Enter Latitude"}),n.a.createElement("input",{type:"text",name:"longitude",placeholder:"Enter Longitude"}),n.a.createElement("input",{type:"date",id:"date",name:"date"}),n.a.createElement("button",null,"Get Forecast"),n.a.createElement("br",null),n.a.createElement("span",{class:"note"},n.a.createElement("strong",null,"Note:"),n.a.createElement("i",null,' "date" is not supported in Safari or Internet Explorer 11 (or earlier).')),n.a.createElement("br",null),n.a.createElement("span",{class:"valid"},n.a.createElement("strong",null,"Example of values:"),n.a.createElement("i",null," Latitude: 37.8267 and Longitude: -122.4233 ")))},v=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).getWeather=function(){var t=Object(m.a)(o.a.mark((function t(a){var r,n,i,l,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=a.target.elements.latitude.value,n=a.target.elements.longitude.value,i=a.target.elements.date.value,i+="T12:00:00Z",t.next=7,fetch("https://arcules-test-101.appspot.com/api/weather/".concat(r,"&/").concat(n,"&/").concat(i));case 7:return c=t.sent,t.next=10,c.json();case 10:l=(l=t.sent).message,l=JSON.parse(l),s=Object.keys(l).length,console.log("Data Length:"+s),console.log("Data: "+JSON.stringify(l)),r&&n&&i?s<7?e.setState({error:"Error: "+l.code+"=> "+l.error}):e.setState({city:l.timezone,country:l.flags.units.toUpperCase(),temperature:l.currently.temperature,temperatureHigh:l.daily.data[0].temperatureHigh,temperatureLow:l.daily.data[0].temperatureLow,precipProbability:100*l.currently.precipProbability,windSpeed:l.currently.windSpeed,visibility:l.currently.visibility,humidity:100*l.currently.humidity,description:l.daily.data[0].summary,error:"",copyright:"Powered by Dark Sky"}):(e.setState({temperature:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,copyright:void 0,temperatureHigh:void 0,temperatureLow:void 0,windSpeed:void 0,visibility:void 0,precipProbability:void 0,error:"All fields values are required. Please enter the values."}),alert("All fields values are required"));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={zip:"",payload:[]},e}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("body",null,n.a.createElement("div",{class:"body_container"},n.a.createElement("p",null,"This is a training exercise written with a Golang back-end which consumes a Restfull API from ",n.a.createElement("a",{href:"https://darksky.net/forecast/40.7127,-74.0059/us12/en",target:"_blank",rel:"noopener noreferrer"},"Dark Sky")," weather service and passes the payload to the React fron-end to complete the UI"),n.a.createElement("p",null,"This app ultimately would be enhanced to accept the ZIP-CODE instead of the coordinates during the next update."),n.a.createElement("p",null,"For the app to work, the user would need to provide a valid latitude and longitude plus the date in order to get the weather forecast information"),n.a.createElement("div",{className:"col-xs-7 form-container"},n.a.createElement(w,{getWeather:this.getWeather}),n.a.createElement(E,{city:this.state.city,country:this.state.country,temperature:this.state.temperature,humidity:this.state.humidity,description:this.state.description,error:this.state.error,copyright:this.state.copyright,temperatureHigh:this.state.temperatureHigh,temperatureLow:this.state.temperatureLow,windSpeed:this.state.windSpeed,visibility:this.state.visibility,precipProbability:this.state.precipProbability}))))}}]),t}(r.Component),g=a(21),f=a.n(g);var _=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{style:{marginTop:"5px"}},n.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),n.a.createElement("h1",null,"Arcules Weather Test App"))),n.a.createElement(c.a,{path:"/",exact:!0,component:v}),n.a.createElement("footer",null,n.a.createElement("div",{class:"footer_home"},n.a.createElement("footer",null,"\xa9 Copyright 2020 Ahmadou Ndoung"))))},b=a(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n.a.createElement(b.a,null,n.a.createElement(_,null));l.a.render(N,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.22d6299c.chunk.js.map